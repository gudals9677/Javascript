<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3.JSON</title>
     <!--
        날짜 : 2024/02/14
        이름 : 김형민
        내용 : 자바스크립트 JSON 실습
    -->
</head>
<body>
    <h3>3.JSON</h3>
    <script>
        // JSON 객체
        const user = {
            "uid" :"a101",
            "name":"김유신",
            "age" : 25,
            "addr":"김해"
        };
        document.write('user : ' + user + '<br>');
        document.write('uid : ' + user.uid + '<br>');
        document.write('uid : ' + user.name + '<br>');
        document.write('uid : ' + user.age + '<br>');
        document.write('uid : ' + user.addr + '<br>');

        for(const k in user){                                   // in은 배열의 인덱스값 of는 배열의 값

            document.write(k + ' : ' + user[k] + '<br>');
        }

        // JSON 배열
        const jsonData = {"users":[
                            {"uid":"a101","name":"김유신","age":"25","addr":"김해"},
                            {"uid":"a102","name":"김춘추","age":"26","addr":"창원"},
                            {"uid":"a103","name":"장보고","age":"27","addr":"인천"},
                            {"uid":"a104","name":"강감찬","age":"28","addr":"서울"},
                            {"uid":"a105","name":"이순신","age":"29","addr":"광주"}
                        ]};

        for(const user of jsonData.users){

            document.write('<p>');
            document.write('uid :' + user.uid + '<br>');
            document.write('name :' + user.name + '<br>');
            document.write('age :' + user.age + '<br>');
            document.write('addr :' + user.addr + '<br>');
            document.write('<p>');
        }
        
        //JSON 함수
        const member = {
            "uid": "a101",
            "name": "hong",
            "age": "11",
            "hp": "010-1234-1234"
        };
        document.write('member : ' + member + '<br>');

        //JSON.stringfy() : JSON을 문자열로 변환
        const strMember = JSON.stringfy(member);
        document.write('strMember : ' + strMember + '<br>');

        //JSON.parse() : 문자열(JSON 형식을 갖는)을 JSON객체로 변환
        const ParsedMember = JSON.parse(strMember);
        document.write('ParsedMember.uid : ' + ParsedMember.uid + '<br>');
        document.write('ParsedMember.name : ' + ParsedMember.name + '<br>');
        document.write('ParsedMember.age : ' + ParsedMember.age + '<br>');
        document.write('ParsedMember.hp : ' + ParsedMember.hp + '<br>');
    </script>
</body>
</html>